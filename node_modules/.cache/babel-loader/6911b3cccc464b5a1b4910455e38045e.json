{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\Spice_Blue\\\\gitSPice\\\\src\\\\components\\\\Form\\\\FormCrud.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { Container, Card, ListGroup, Col, Row } from 'react-bootstrap';\nimport { getData, postData, updateData } from '../../store/Action/FormCrud';\nimport './Form.css';\nimport API from '../../API/Api';\nimport AddEditForm from './AddEditForm';\nimport Header from '../Header/Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FormCrud extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      description: 'Follow up',\n      id: '',\n      date: new Date().toLocaleDateString('fr-CA'),\n      time: '00:00',\n      assignedTo: 'Vetri',\n      hide: true,\n      listTask: [],\n      formOps: '',\n      result: ''\n    };\n\n    this.getData = () => {\n      console.log('hitingo on update');\n      axios.get(`${API.baseUrl}/task/lead_04412ba1d622466cab1f0ad941fcf303`).then(response => response.data).then(result => {\n        console.log(result);\n        this.setState({\n          listTask: result.results\n        });\n        this.forceUpdate();\n      }, err => {});\n    };\n\n    this.edit = i => {\n      this.setState({\n        id: i.id\n      });\n\n      if (i.id) {\n        axios.get(`${API.baseUrl}/task/lead_04412ba1d622466cab1f0ad941fcf303/${i.id}`).then(response => response.data).then(result => {\n          console.log(result);\n          this.setState({\n            result: result\n          });\n          this.setState({\n            description: result.results.task_msg,\n            id: result.results.id,\n            date: new Date(result.results.task_date).toLocaleDateString('fr-CA'),\n            time: this.convertTime(result.results.task_time),\n            assignedTo: result.results.assigned_user,\n            hide: false,\n            formOps: 'edit'\n          });\n        }, err => {\n          console.log(err);\n        });\n      }\n    };\n\n    this.closeForm = () => {\n      this.setState({\n        hide: true,\n        id: ''\n      });\n    };\n\n    this.displayForm = () => {\n      this.setState({\n        hide: false,\n        formOps: 'add'\n      });\n    };\n  }\n\n  componentDidMount() {\n    const token = JSON.parse(localStorage.getItem('token'));\n    axios.interceptors.request.use(function (config) {\n      config.headers.common['Authorization'] = 'Bearer ' + token;\n      config.headers.common['Accept'] = 'application/json';\n      config.headers.common['Content-Type'] = 'application/json';\n      return config;\n    });\n    this.props.getData();\n    this.getData();\n  }\n\n  convertTime(data) {\n    let time = Number(data);\n    let hrs = Math.floor(time / 3600);\n    let min = Math.floor(time % 3600 / 60);\n    return ('0' + hrs).slice(-2) + \":\" + ('0' + min).slice(-2);\n  }\n\n  render() {\n    const {\n      listTask,\n      hide,\n      description,\n      date,\n      time,\n      assignedTo,\n      id,\n      formOps\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"formHead\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                width: '28rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: [\"TASKS \", listTask.length ? listTask.length : 0, /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: this.displayForm,\n                  href: true,\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"float-right hover \",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fa fa-plus-circle\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 9\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 8\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 8\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  hidden: hide,\n                  className: \"addUpdateForm\",\n                  children: /*#__PURE__*/_jsxDEV(AddEditForm, {\n                    close: this.closeForm.bind(this),\n                    updateCompo: this.getData.bind(this),\n                    data: {\n                      description,\n                      date,\n                      time,\n                      assignedTo,\n                      id\n                    },\n                    detectOps: formOps\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 10\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 9\n                }, this), listTask.map(data => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      lg: 1,\n                      md: 1,\n                      sm: 1,\n                      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fa fa-user-circle\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 168,\n                          columnNumber: 12\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 12\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      lg: 11,\n                      sm: 11,\n                      md: 11,\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: data.task_msg\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 12\n                      }, this), new Date(data.task_date).toLocaleDateString('fr-CA'), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        onClick: () => this.edit(data),\n                        style: {\n                          marginTop: '-25px'\n                        },\n                        className: \" float-right hideEdit hover\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fa fa-pencil\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 178,\n                          columnNumber: 12\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 12\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 10\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 8\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  alltasks: state.FormCrudReducer.data,\n  statusMessage: state.FormCrudReducer.status\n});\n\nexport default connect(mapStateToProps, {\n  getData,\n  postData,\n  updateData\n})(FormCrud);","map":{"version":3,"sources":["C:/React/Spice_Blue/gitSPice/src/components/Form/FormCrud.jsx"],"names":["React","Component","axios","connect","Container","Card","ListGroup","Col","Row","getData","postData","updateData","API","AddEditForm","Header","FormCrud","state","description","id","date","Date","toLocaleDateString","time","assignedTo","hide","listTask","formOps","result","console","log","get","baseUrl","then","response","data","setState","results","forceUpdate","err","edit","i","task_msg","task_date","convertTime","task_time","assigned_user","closeForm","displayForm","componentDidMount","token","JSON","parse","localStorage","getItem","interceptors","request","use","config","headers","common","props","Number","hrs","Math","floor","min","slice","render","width","length","bind","map","marginTop","mapStateToProps","alltasks","FormCrudReducer","statusMessage","status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,EAAqBC,IAArB,EAA2BC,SAA3B,EAAqCC,GAArC,EAA0CC,GAA1C,QAAqD,iBAArD;AACA,SAASC,OAAT,EAAkBC,QAAlB,EAA4BC,UAA5B,QAA8C,6BAA9C;AACA,OAAO,YAAP;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;;AAGA,MAAMC,QAAN,SAAuBd,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAChCe,KADgC,GACxB;AACPC,MAAAA,WAAW,EAAE,WADN;AAEPC,MAAAA,EAAE,EAAE,EAFG;AAGPC,MAAAA,IAAI,EAAE,IAAIC,IAAJ,GAAWC,kBAAX,CAA8B,OAA9B,CAHC;AAIPC,MAAAA,IAAI,EAAE,OAJC;AAKPC,MAAAA,UAAU,EAAE,OALL;AAMPC,MAAAA,IAAI,EAAE,IANC;AAOPC,MAAAA,QAAQ,EAAE,EAPH;AAQPC,MAAAA,OAAO,EAAC,EARD;AASPC,MAAAA,MAAM,EAAC;AATA,KADwB;;AAAA,SA6BhClB,OA7BgC,GA6BxB,MAAI;AACXmB,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA3B,MAAAA,KAAK,CAAC4B,GAAN,CAAW,GAAElB,GAAG,CAACmB,OAAQ,6CAAzB,EACOC,IADP,CACYC,QAAQ,IAAIA,QAAQ,CAACC,IADjC,EAEOF,IAFP,CAGUL,MAAM,IAAI;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,aAAKQ,QAAL,CAAc;AACbV,UAAAA,QAAQ,EAAEE,MAAM,CAACS;AADJ,SAAd;AAGA,aAAKC,WAAL;AACS,OATX,EAUUC,GAAG,IAAI,CAGN,CAbX;AAeA,KA9C+B;;AAAA,SAyDhCC,IAzDgC,GAyDxBC,CAAD,IAAO;AAGb,WAAKL,QAAL,CAAc;AACbjB,QAAAA,EAAE,EAAEsB,CAAC,CAACtB;AADO,OAAd;;AAGA,UAAIsB,CAAC,CAACtB,EAAN,EAAU;AAEThB,QAAAA,KAAK,CACH4B,GADF,CACO,GAAElB,GAAG,CAACmB,OAAQ,+CAA8CS,CAAC,CAACtB,EAAG,EADxE,EAEEc,IAFF,CAEOC,QAAQ,IAAIA,QAAQ,CAACC,IAF5B,EAGEF,IAHF,CAIEL,MAAM,IAAI;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,eAAKQ,QAAL,CAAc;AAACR,YAAAA,MAAM,EAACA;AAAR,WAAd;AACA,eAAKQ,QAAL,CAAc;AACblB,YAAAA,WAAW,EAAEU,MAAM,CAACS,OAAP,CAAeK,QADf;AAEbvB,YAAAA,EAAE,EAAES,MAAM,CAACS,OAAP,CAAelB,EAFN;AAGbC,YAAAA,IAAI,EAAE,IAAIC,IAAJ,CAASO,MAAM,CAACS,OAAP,CAAeM,SAAxB,EAAmCrB,kBAAnC,CAAsD,OAAtD,CAHO;AAIbC,YAAAA,IAAI,EAAC,KAAKqB,WAAL,CAAiBhB,MAAM,CAACS,OAAP,CAAeQ,SAAhC,CAJQ;AAKbrB,YAAAA,UAAU,EAAEI,MAAM,CAACS,OAAP,CAAeS,aALd;AAMbrB,YAAAA,IAAI,EAAE,KANO;AAObE,YAAAA,OAAO,EAAC;AAPK,WAAd;AAWA,SAlBH,EAmBEY,GAAG,IAAI;AACNV,UAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACA,SArBH;AAuBA;AAED,KA1F+B;;AAAA,SA4FhCQ,SA5FgC,GA4FpB,MAAM;AAEjB,WAAKX,QAAL,CAAc;AAEbX,QAAAA,IAAI,EAAE,IAFO;AAGbN,QAAAA,EAAE,EAAE;AAHS,OAAd;AAKA,KAnG+B;;AAAA,SAqGhC6B,WArGgC,GAqGlB,MAAM;AACnB,WAAKZ,QAAL,CAAc;AACbX,QAAAA,IAAI,EAAE,KADO;AAEbE,QAAAA,OAAO,EAAC;AAFK,OAAd;AAKA,KA3G+B;AAAA;;AAahCsB,EAAAA,iBAAiB,GAAG;AAEnB,UAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACAnD,IAAAA,KAAK,CAACoD,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AACvCA,MAAAA,MAAM,CAACC,OAAP,CAAeC,MAAf,CAAsB,eAAtB,IAAyC,YAAWV,KAApD;AACTQ,MAAAA,MAAM,CAACC,OAAP,CAAeC,MAAf,CAAsB,QAAtB,IAAkC,kBAAlC;AACCF,MAAAA,MAAM,CAACC,OAAP,CAAeC,MAAf,CAAsB,cAAtB,IAAwC,kBAAxC;AAED,aAAOF,MAAP;AACA,KAND;AAQA,SAAKG,KAAL,CAAWnD,OAAX;AACA,SAAKA,OAAL;AACA;;AAsBFkC,EAAAA,WAAW,CAACT,IAAD,EAAO;AAChB,QAAIZ,IAAI,GAAGuC,MAAM,CAAC3B,IAAD,CAAjB;AACA,QAAI4B,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAW1C,IAAI,GAAG,IAAlB,CAAV;AACA,QAAI2C,GAAG,GAAGF,IAAI,CAACC,KAAL,CAAW1C,IAAI,GAAG,IAAP,GAAc,EAAzB,CAAV;AACA,WAAS,CAAC,MAAMwC,GAAP,EAAYI,KAAZ,CAAkB,CAAC,CAAnB,IAAwB,GAAxB,GAA6B,CAAC,MAAMD,GAAP,EAAYC,KAAZ,CAAkB,CAAC,CAAnB,CAAtC;AACA;;AA2DDC,EAAAA,MAAM,GAAG;AAER,UAAM;AAAG1C,MAAAA,QAAH;AAAaD,MAAAA,IAAb;AAAmBP,MAAAA,WAAnB;AAA+BE,MAAAA,IAA/B;AAAoCG,MAAAA,IAApC;AAAyCC,MAAAA,UAAzC;AAAoDL,MAAAA,EAApD;AAAuDQ,MAAAA;AAAvD,QAAkE,KAAKV,KAA7E;AACA,wBACC;AAAA,8BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADD,eAEC,QAAC,SAAD;AAAW,QAAA,SAAS,EAAC,UAArB;AAAA,+BAEC,QAAC,GAAD;AAAA,kCACC,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,kBADD,eAIC,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD;AAAM,cAAA,KAAK,EAAE;AAAEoD,gBAAAA,KAAK,EAAE;AAAT,eAAb;AAAA,sCACC,QAAC,IAAD,CAAM,MAAN;AAAA,qCAAqB3C,QAAQ,CAAC4C,MAAT,GAAgB5C,QAAQ,CAAC4C,MAAzB,GAAgC,CAArD,eACA;AAAI,kBAAA,OAAO,EAAE,KAAKtB,WAAlB;AAA+B,kBAAA,IAAI,MAAnC;AAAA,yCACA;AAAI,oBAAA,SAAS,EAAC,oBAAd;AAAA,2CACC;AAAG,sBAAA,KAAK,EAAC,mBAAT;AAA6B,qCAAY;AAAzC;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,wBADA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAQC,QAAC,SAAD;AAAW,gBAAA,OAAO,EAAC,OAAnB;AAAA,wCACC,QAAC,SAAD,CAAW,IAAX;AAAgB,kBAAA,MAAM,EAAEvB,IAAxB;AACA,kBAAA,SAAS,EAAC,eADV;AAAA,yCAGC,QAAC,WAAD;AACC,oBAAA,KAAK,EAAE,KAAKsB,SAAL,CAAewB,IAAf,CAAoB,IAApB,CADR;AAEC,oBAAA,WAAW,EAAE,KAAK7D,OAAL,CAAa6D,IAAb,CAAkB,IAAlB,CAFd;AAGC,oBAAA,IAAI,EAAE;AAC0BrD,sBAAAA,WAD1B;AACsCE,sBAAAA,IADtC;AAC2CG,sBAAAA,IAD3C;AACgDC,sBAAAA,UADhD;AAC2DL,sBAAAA;AAD3D,qBAHP;AAMC,oBAAA,SAAS,EAAEQ;AANZ;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,wBADD,EAkBED,QAAQ,CAAC8C,GAAT,CAAarC,IAAI,iBACjB,QAAC,SAAD,CAAW,IAAX;AAAA,yCACC,QAAC,GAAD;AAAA,4CACC,QAAC,GAAD;AAAK,sBAAA,EAAE,EAAE,CAAT;AAAY,sBAAA,EAAE,EAAE,CAAhB;AAAmB,sBAAA,EAAE,EAAE,CAAvB;AAAA,6CACA;AAAA,+CACA;AAAG,0BAAA,KAAK,EAAC,mBAAT;AAA6B,yCAAY;AAAzC;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,4BADD,eAQC,QAAC,GAAD;AAAK,sBAAA,EAAE,EAAE,EAAT;AAAa,sBAAA,EAAE,EAAE,EAAjB;AAAqB,sBAAA,EAAE,EAAE,EAAzB;AAAA,8CACA;AAAA,kCACCA,IAAI,CAACO;AADN;AAAA;AAAA;AAAA;AAAA,8BADA,EAGC,IAAIrB,IAAJ,CAASc,IAAI,CAACQ,SAAd,EAAyBrB,kBAAzB,CAA4C,OAA5C,CAHD,eAIA;AAAI,wBAAA,OAAO,EAAE,MAAM,KAAKkB,IAAL,CAAUL,IAAV,CAAnB;AAAoC,wBAAA,KAAK,EAAE;AAAEsC,0BAAAA,SAAS,EAAE;AAAb,yBAA3C;AAAmE,wBAAA,SAAS,EAAC,6BAA7E;AAAA,+CACA;AAAG,0BAAA,KAAK,EAAC,cAAT;AAAwB,yCAAY;AAApC;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,8BAJA;AAAA;AAAA;AAAA;AAAA;AAAA,4BARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,wBADA,CAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,sBARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBAJD,eA4DC,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,kBA5DD;AAAA;AAAA;AAAA;AAAA;AAAA;AAFD;AAAA;AAAA;AAAA;AAAA,cAFD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAwEA;;AA3L+B;;AA6LjC,MAAMC,eAAe,GAAIzD,KAAD,KACvB;AACA0D,EAAAA,QAAQ,EAAE1D,KAAK,CAAC2D,eAAN,CAAsBzC,IADhC;AAEA0C,EAAAA,aAAa,EAAE5D,KAAK,CAAC2D,eAAN,CAAsBE;AAFrC,CADuB,CAAxB;;AAMA,eAAe1E,OAAO,CAACsE,eAAD,EAAkB;AAAEhE,EAAAA,OAAF;AAAWC,EAAAA,QAAX;AAAqBC,EAAAA;AAArB,CAAlB,CAAP,CAA4DI,QAA5D,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { Container,  Card, ListGroup,Col, Row } from 'react-bootstrap';\r\nimport { getData, postData, updateData } from '../../store/Action/FormCrud';\r\nimport './Form.css';\r\nimport API from '../../API/Api';\r\nimport AddEditForm from './AddEditForm';\r\nimport Header from '../Header/Header';\r\n\r\n\r\nclass FormCrud extends Component {\r\n\tstate = {\r\n\t\tdescription: 'Follow up',\r\n\t\tid: '',\t\t\r\n\t\tdate: new Date().toLocaleDateString('fr-CA'),\r\n\t\ttime: '00:00',\r\n\t\tassignedTo: 'Vetri',\r\n\t\thide: true,\r\n\t\tlistTask: [],\r\n\t\tformOps:'',\t\t\r\n\t\tresult:''\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\t\r\n\t\tconst token = JSON.parse(localStorage.getItem('token'));\t\t\r\n\t\taxios.interceptors.request.use(function (config) {\r\n            config.headers.common['Authorization'] = 'Bearer ' +token;\t\r\n\t\t\tconfig.headers.common['Accept'] = 'application/json';\r\n\t\t\t config.headers.common['Content-Type'] = 'application/json';\r\n\r\n\t\t\treturn config;\r\n\t\t})\r\n\t\t\r\n\t\tthis.props.getData();\r\n\t\tthis.getData();\r\n\t};\r\n\t\r\n\t\r\n\tgetData=()=>{\r\n\t\tconsole.log('hitingo on update')\r\n\t\taxios.get(`${API.baseUrl}/task/lead_04412ba1d622466cab1f0ad941fcf303`)\r\n        .then(response => response.data)\r\n        .then(\r\n            result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlistTask: result.results\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tthis.forceUpdate()\r\n            },\r\n            err => {\r\n                \r\n\r\n            }\r\n        )\r\n\t}\r\n\t\t  \r\nconvertTime(data) {\r\n\t\tlet time = Number(data);\t\r\n\t\tlet hrs = Math.floor(time / 3600);\r\n\t\tlet min = Math.floor(time % 3600 / 60);\t\t\r\n\t\treturn ( ('0' + hrs).slice(-2) + \":\" +('0' + min).slice(-2)  )\r\n\t}\r\n\t\r\n\t\r\n\r\n\tedit = (i) => {\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n\t\t\tid: i.id\r\n\t\t})\r\n\t\tif (i.id) {\r\n\t\t\t\r\n\t\t\taxios\r\n\t\t\t\t.get(`${API.baseUrl}/task/lead_04412ba1d622466cab1f0ad941fcf303/${i.id}`)\r\n\t\t\t\t.then(response => response.data)\r\n\t\t\t\t.then(\r\n\t\t\t\t\tresult => {\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(result) \r\n\t\t\t\t\t\tthis.setState({result:result})\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tdescription: result.results.task_msg,\r\n\t\t\t\t\t\t\tid: result.results.id,\r\n\t\t\t\t\t\t\tdate: new Date(result.results.task_date).toLocaleDateString('fr-CA'),\r\n\t\t\t\t\t\t\ttime:this.convertTime(result.results.task_time),\r\n\t\t\t\t\t\t\tassignedTo: result.results.assigned_user,\r\n\t\t\t\t\t\t\thide: false,\r\n\t\t\t\t\t\t\tformOps:'edit'\r\n\t\t\t\t\t\t});\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t}\r\n\r\n\t};\r\n\t\r\n\tcloseForm = () => {\r\n\t\t\r\n\t\tthis.setState({\t\r\n\t\t\t\r\n\t\t\thide: true,\r\n\t\t\tid: ''\r\n\t\t})\r\n\t};\r\n\t\r\n\tdisplayForm = () => {\r\n\t\tthis.setState({\t\t\t\r\n\t\t\thide: false,\r\n\t\t\tformOps:'add'\t\t\t\t\t\t\t\r\n\t\t})\r\n\t\t\r\n\t};\t\r\n\t\r\n\t\r\n\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst {  listTask, hide ,description,date,time,assignedTo,id,formOps} = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Container className=\"formHead\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card style={{ width: '28rem' }}>\r\n\t\t\t\t\t\t\t<Card.Header >TASKS {listTask.length?listTask.length:0} \r\n\t\t\t\t\t\t\t<a  onClick={this.displayForm} href> \r\n\t\t\t\t\t\t\t<h5 className=\"float-right hover \">\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</Card.Header >\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t<ListGroup.Item hidden={hide}\r\n\t\t\t\t\t\t\t\tclassName=\"addUpdateForm\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<AddEditForm\r\n\t\t\t\t\t\t\t\t\t close={this.closeForm.bind(this)}\r\n\t\t\t\t\t\t\t\t\t updateCompo={this.getData.bind(this)}\r\n\t\t\t\t\t\t\t\t\t data={{\r\n                                          description,date,time,assignedTo,id\r\n\t\t\t\t\t\t\t\t\t }}\r\n\t\t\t\t\t\t\t\t\t detectOps={formOps}\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t />\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{listTask.map(data => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col lg={1} md={1} sm={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t    </h3>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Col lg={11} sm={11} md={11}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{data.task_msg}</h5>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{new Date(data.task_date).toLocaleDateString('fr-CA')}\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 onClick={() => this.edit(data)} style={{ marginTop: '-25px' }} className=\" float-right hideEdit hover\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Card>\r\n\r\n\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => (\t\t\r\n\t{\t\r\n\talltasks: state.FormCrudReducer.data,\r\n\tstatusMessage: state.FormCrudReducer.status,\t\r\n     }\r\n)\r\nexport default connect(mapStateToProps, { getData, postData, updateData })(FormCrud);"]},"metadata":{},"sourceType":"module"}