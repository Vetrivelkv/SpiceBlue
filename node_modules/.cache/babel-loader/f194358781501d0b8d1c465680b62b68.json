{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\Spice_Blue\\\\gitSPice\\\\src\\\\components\\\\Form\\\\FormCrud.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport store from \"../../store/index\";\nimport { Container, Card, ListGroup, Col, Row } from \"react-bootstrap\";\nimport { getData, getDataById } from \"../../store/Action/FormCrud\";\nimport \"./Form.css\";\nimport AddEditForm from \"./AddEditForm\";\nimport Header from \"../Header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormCrud = () => {\n  _s();\n\n  //inputs used for add and update functionalities\n  const dispatch = useDispatch();\n  const [description, setDescription] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [date, setDate] = useState(new Date().toLocaleDateString(\"fr-CA\"));\n  const [time, setTime] = useState(\"00:00\");\n  const [assignedTo, setAssignedTo] = useState(\"\");\n  const [hide, setHide] = useState(true);\n  const [listTask, setListTask] = useState([]);\n  const [formOps, setformOps] = useState(\"\");\n  const [result, setResult] = useState(\"\"); //inputs used for add and update functionalities\n\n  useEffect(() => {\n    //used to send headers along with all api requests\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n    axios.interceptors.request.use(function (config) {\n      config.headers.common[\"Authorization\"] = \"Bearer \" + token;\n      config.headers.common[\"Accept\"] = \"application/json\";\n      config.headers.common[\"Content-Type\"] = \"application/json\";\n      return config;\n    }); //used to send headers along with all api requests\n    //Making Api request for Getting All Task\n\n    getTaskData(); //Making Api request for Getting All Task\n  });\n\n  const getTaskData = () => {\n    dispatch(getData());\n    setTimeout(() => {\n      setListTask(store.getState().FormCrudReducer.data);\n    }, 1000);\n  }; //time conversion function\n\n\n  const convertTime = data => {\n    let time = Number(data);\n    let hrs = Math.floor(time / 3600);\n    let min = Math.floor(time % 3600 / 60);\n    return (\"0\" + hrs).slice(-2) + \":\" + (\"0\" + min).slice(-2);\n  }; //time conversion function\n  //hides AddEditForm components\n\n\n  const closeForm = () => {\n    setHide(true);\n    setId(\"\");\n  }; //hides AddEditForm components\n  //shows AddEditForm components\n\n\n  const displayForm = () => {\n    setHide(false);\n    setformOps(\"add\");\n  }; //shows AddEditForm components\n  //Getting Single Task for Update\n\n\n  const edit = i => {\n    setId(i.id);\n\n    if (i.id) {\n      dispatch(getDataById(i.id));\n      setTimeout(() => {\n        let result = store.getState().FormCrudReducer.singleData;\n        setResult(result);\n        setDescription(result.task_msg);\n        setId(result.id);\n        setDate(new Date(result.task_date).toLocaleDateString(\"fr-CA\"));\n        setTime(convertTime(result.task_time));\n        setAssignedTo(result.assigned_user);\n        setHide(false);\n        setformOps(\"edit\");\n      }, 500);\n    }\n  }; //Getting Single Task for Update\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"formHead\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                width: \"28rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: [\"TASKS \", listTask.length ? listTask.length : 0, /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: displayForm,\n                  href: true,\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"float-right hover \",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fa fa-plus-circle\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  hidden: hide,\n                  className: \"addUpdateForm\",\n                  children: /*#__PURE__*/_jsxDEV(AddEditForm, {\n                    close: closeForm,\n                    updateCompo: getTaskData,\n                    data: {\n                      description,\n                      date,\n                      time,\n                      assignedTo,\n                      id\n                    },\n                    detectOps: formOps\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this), listTask.map(data => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      lg: 1,\n                      md: 1,\n                      sm: 1,\n                      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fa fa-user-circle\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 132,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      lg: 11,\n                      sm: 11,\n                      md: 11,\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        children: data.task_msg\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 27\n                      }, this), new Date(data.task_date).toLocaleDateString(\"fr-CA\"), /*#__PURE__*/_jsxDEV(\"h5\", {\n                        onClick: () => {\n                          edit(data);\n                        },\n                        style: {\n                          marginTop: \"-25px\"\n                        },\n                        className: \" float-right hideEdit hover\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fa fa-pencil\",\n                          \"aria-hidden\": \"true\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 146,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormCrud, \"cJFObjb1JCvXPSdnkSDKydM7vms=\", false, function () {\n  return [useDispatch];\n});\n\n_c = FormCrud;\nexport default FormCrud;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCrud\");","map":{"version":3,"sources":["C:/React/Spice_Blue/gitSPice/src/components/Form/FormCrud.jsx"],"names":["React","Component","useEffect","useState","useRef","axios","useDispatch","store","Container","Card","ListGroup","Col","Row","getData","getDataById","AddEditForm","Header","FormCrud","dispatch","description","setDescription","id","setId","date","setDate","Date","toLocaleDateString","time","setTime","assignedTo","setAssignedTo","hide","setHide","listTask","setListTask","formOps","setformOps","result","setResult","token","JSON","parse","localStorage","getItem","interceptors","request","use","config","headers","common","getTaskData","setTimeout","getState","FormCrudReducer","data","convertTime","Number","hrs","Math","floor","min","slice","closeForm","displayForm","edit","i","singleData","task_msg","task_date","task_time","assigned_user","width","length","map","marginTop"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport {  useDispatch } from \"react-redux\";\r\nimport store from \"../../store/index\";\r\nimport { Container, Card, ListGroup, Col, Row } from \"react-bootstrap\";\r\nimport { getData, getDataById } from \"../../store/Action/FormCrud\";\r\nimport \"./Form.css\";\r\nimport AddEditForm from \"./AddEditForm\";\r\nimport Header from \"../Header/Header\";\r\n\r\nconst FormCrud = () => {\r\n\r\n  //inputs used for add and update functionalities\r\n  const dispatch = useDispatch();\r\n  const [description, setDescription] = useState(\"\");\r\n  const [id, setId] = useState(\"\");\r\n  const [date, setDate] = useState(new Date().toLocaleDateString(\"fr-CA\"));\r\n  const [time, setTime] = useState(\"00:00\");\r\n  const [assignedTo, setAssignedTo] = useState(\"\");\r\n  const [hide, setHide] = useState(true);\r\n  const [listTask, setListTask] = useState([]);\r\n  const [formOps, setformOps] = useState(\"\");\r\n  const [result, setResult] = useState(\"\");\r\n  //inputs used for add and update functionalities\r\n\r\n  useEffect(() => {\r\n    //used to send headers along with all api requests\r\n    const token = JSON.parse(localStorage.getItem(\"token\"));\r\n    axios.interceptors.request.use(function (config) {\r\n      config.headers.common[\"Authorization\"] = \"Bearer \" + token;\r\n      config.headers.common[\"Accept\"] = \"application/json\";\r\n      config.headers.common[\"Content-Type\"] = \"application/json\";\r\n\r\n      return config;\r\n    });\r\n    //used to send headers along with all api requests\r\n\r\n    //Making Api request for Getting All Task\r\n    getTaskData();\r\n    //Making Api request for Getting All Task\r\n  });\r\n\r\n  const getTaskData = () => {\r\n    dispatch(getData());\r\n    setTimeout(() => {\r\n      setListTask(store.getState().FormCrudReducer.data);\r\n    }, 1000);\r\n  };\r\n  //time conversion function\r\n  const convertTime = (data) => {\r\n    let time = Number(data);\r\n    let hrs = Math.floor(time / 3600);\r\n    let min = Math.floor((time % 3600) / 60);\r\n    return (\"0\" + hrs).slice(-2) + \":\" + (\"0\" + min).slice(-2);\r\n  };\r\n  //time conversion function\r\n\r\n  //hides AddEditForm components\r\n  const closeForm = () => {\r\n    setHide(true);\r\n    setId(\"\");\r\n  };\r\n  //hides AddEditForm components\r\n\r\n  //shows AddEditForm components\r\n  const displayForm = () => {\r\n    setHide(false);\r\n    setformOps(\"add\");\r\n  };\r\n  //shows AddEditForm components\r\n\r\n  //Getting Single Task for Update\r\n\r\n  const edit = (i) => {\r\n    setId(i.id);\r\n\r\n    if (i.id) {\r\n      dispatch(getDataById(i.id));\r\n      setTimeout(() => {\r\n        let result = store.getState().FormCrudReducer.singleData;\r\n        setResult(result);\r\n        setDescription(result.task_msg);\r\n        setId(result.id);\r\n        setDate(new Date(result.task_date).toLocaleDateString(\"fr-CA\"));\r\n        setTime(convertTime(result.task_time));\r\n        setAssignedTo(result.assigned_user);\r\n        setHide(false);\r\n        setformOps(\"edit\");\r\n      }, 500);\r\n    }\r\n  };\r\n  //Getting Single Task for Update\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Header />\r\n        <Container className=\"formHead\">\r\n          <Row>\r\n            <Col></Col>\r\n\r\n            <Col>\r\n              <Card style={{ width: \"28rem\" }}>\r\n                <Card.Header>\r\n                  TASKS {listTask.length ? listTask.length : 0}\r\n                  <a onClick={displayForm} href>\r\n                    <h5 className=\"float-right hover \">\r\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>\r\n                    </h5>\r\n                  </a>\r\n                </Card.Header>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item hidden={hide} className=\"addUpdateForm\">\r\n                    <AddEditForm\r\n                      close={closeForm}\r\n                      updateCompo={getTaskData}\r\n                      data={{\r\n                        description,\r\n                        date,\r\n                        time,\r\n                        assignedTo,\r\n                        id,\r\n                      }}\r\n                      detectOps={formOps}\r\n                    />\r\n                  </ListGroup.Item>\r\n                  {listTask.map((data) => (\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col lg={1} md={1} sm={1}>\r\n                          <h3>\r\n                            <i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>\r\n                          </h3>\r\n                        </Col>\r\n\r\n                        <Col lg={11} sm={11} md={11}>\r\n                          <h5>{data.task_msg}</h5>\r\n                          {new Date(data.task_date).toLocaleDateString(\"fr-CA\")}\r\n                          <h5\r\n                            onClick={() => {\r\n                              edit(data);\r\n                            }}\r\n                            style={{ marginTop: \"-25px\" }}\r\n                            className=\" float-right hideEdit hover\"\r\n                          >\r\n                            <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\r\n                          </h5>\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n\r\n            <Col></Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default FormCrud;\r\n"]},"metadata":{},"sourceType":"module"}